---
import MarqueeBanner from '../components/MarqueeBanner.astro';
---

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
</head>

<section class="relative w-full bg-cover bg-center bg-no-repeat overflow-hidden" style="background-image: url('/fondo6.png');">
  <div class="swiper mySwiper w-full h-full">
    <div class="swiper-wrapper">

      <div class="swiper-slide">
        <div class="scroll-mt-60 certified-facility-section flex flex-col-reverse lg:flex-row w-full min-h-[60vh] py-10 px-4 items-center justify-center">

          <div class="w-full lg:w-[45%] flex items-center justify-center lg:justify-end lg:pr-8 mt-6 lg:mt-0">
            <div class="text-center lg:text-left">
              <h1 class="font-[Antonio] text-[#01ffff] mb-4" style="line-height:1.3em; letter-spacing:0.01em;">
                <span class="animate-slide block text-[2rem] sm:text-[2.7rem] md:text-[3.2rem] lg:text-[3.5rem] mb-1" style="line-height:1.1em; letter-spacing:-0.003em;">STATE-OF-THE-ART</span>
                <span class="animate-slide block text-[2rem] sm:text-[2.7rem] md:text-[3.2rem] lg:text-[3.5rem] mb-1" style="line-height:1.1em; letter-spacing:0.02em;">MANUFACTURING</span>
                <span class=" animate-slide  block text-[2.5rem] sm:text-[3.2rem] md:text-[4.5rem] lg:text-[5.2rem] mt-1" style="line-height:1.1em; letter-spacing:-0.035em;">IN DALLAS, TX</span>
              </h1>
<p class="animate-fade-right font-montserrat font-bold text-white text-base sm:text-lg leading-tight mb-5" style="letter-spacing:0.01em;">
                Our fully certified facility is built for<br />performance, scale, and speed
              </p>
              <p class="animate-slide-x font-montserrat text-white text-sm sm:text-base opacity-80 max-w-md mx-auto lg:mx-0 leading-snug" style="letter-spacing:0.01em;">
                Strategically located in Dallas, we’re<br />positioned to serve regional and national<br />brands with unmatched efficiency
              </p>
            </div>
          </div>


<div class="w-full lg:w-[55%] flex items-center justify-start">
<img
    src="/mapa6.png"
    alt="Mapa de distribución desde Dallas"
    class="animate-wow w-full max-w-[1150px] max-h-[640px] sm:max-h-[680px] md:max-h-[720px] lg:max-h-[98%] object-contain drop-shadow-xl mt-16 lg:-ml-28 xl:-ml-36 2xl:-ml-44"
  />
</div>



        </div>
      </div>

 
      <div class="swiper-slide">
        <div class="scroll-mt-60 certified-facility-section flex flex-col lg:flex-row w-full min-h-[60vh] py-10 px-4 items-center justify-center">

        <div class="w-full lg:w-[55%] flex items-center justify-center lg:justify-end lg:pr-10">
  <h2 class="text-[#01ffff] font-[Antonio] leading-tight text-center lg:text-left">
    <span class="animate-slide block text-[3.9rem] sm:text-[3.5rem] md:text-[4rem] lg:text-[4.5rem] tracking-[0.038em]">
      17,000-GALLON
    </span>
    <span class="animate-slide block text-[3.9rem] sm:text-[3.5rem] md:text-[4rem] lg:text-[4.5rem] tracking-[-0.02em]">
      MIXING CAPACITY
    </span>
  </h2>
</div>

<div class="w-full lg:w-[45%] flex items-center justify-center lg:justify-start lg:pl-10 mt-6 lg:mt-0">
<p class="animate-fade-right font-montserrat text-white text-[1.8rem] font-medium opacity-90 max-w-md text-center lg:text-left leading-snug">
    Designed for high-volume <br /> batching and fast throughput
  </p>
</div>

        </div>
      </div>


<div class="swiper-slide">
  <div class="scroll-mt-60 certified-facility-section flex flex-col lg:flex-row w-full min-h-[60vh] py-10 px-4 items-center justify-center">
    
  
    <div class="w-full lg:w-[55%] flex items-center justify-center lg:justify-end lg:pr-10">
      <h2 class="text-[#01ffff] font-[Antonio] leading-tight text-center lg:text-left">
        <span class="animate-slide block text-[3.9rem] sm:text-[3.5rem] md:text-[4rem] lg:text-[4.5rem] tracking-[0.05em]">
          12 HIGH-SPEED
        </span>
        <span class="animate-slide block text-[3.9rem] sm:text-[3.5rem] md:text-[4rem] lg:text-[4.5rem] tracking-[-0.04em]">
          PRODUCTION LINES
        </span>
      </h2>
    </div>

    <div class="w-full lg:w-[45%] flex items-center justify-center lg:justify-start lg:pl-10 mt-6 lg:mt-0">
<p class="animate-fade-right font-montserrat text-white text-[1.8rem] font-medium opacity-90 max-w-md text-center lg:text-left leading-snug">
        Configurable for liquid fills <br /> from  1mL to 1 gallon
      </p>
    </div>

  </div>
</div>

<div class="swiper-slide">
  <div class="scroll-mt-60 certified-facility-section flex flex-col lg:flex-row w-full min-h-[60vh] py-10 px-4 items-center justify-center">


    <div class="w-full lg:w-[55%] flex items-center justify-center lg:justify-end lg:pr-10">
<h2 class="text-[#01ffff] font-[Antonio] leading-tight text-center lg:text-left">
  <span class="animate-slide block text-[4.8rem] sm:text-[5rem] md:text-[5.2rem] lg:text-[5.5rem] tracking-[0.02em]">
    FDA, MOCRA
  </span>
  <span class="animate-slide lock text-[3.9rem] sm:text-[3.5rem] md:text-[4rem] lg:text-[4.5rem] tracking-[0em]">
    & EPA CERTIFIED
  </span>
</h2>

    </div>

    <div class="w-full lg:w-[45%] flex items-center justify-center lg:justify-start lg:pl-10 mt-6 lg:mt-0">
<p class="animate-fade-right font-montserrat text-white text-[1.8rem] font-medium opacity-90 max-w-md text-center lg:text-left leading-snug">
        Full regulatory compliance <br /> across categories
      </p>
    </div>

  </div>
</div>


<div class="swiper-slide">
  <div class="scroll-mt-60 certified-facility-section flex flex-col lg:flex-row w-full min-h-[60vh] py-10 px-4 items-center justify-center">

    <div class="w-full lg:w-[55%] flex items-center justify-center lg:justify-end lg:pr-10">
<h2 class="text-[#01ffff] font-[Antonio] leading-tight text-center lg:text-left">
<span class="animate-slide block text-[3.5rem] sm:text-[3.7rem] md:text-[3.9rem] lg:text-[4rem] tracking-[0.0em]">
  PRECISION LABELING
</span>

  <span class="animate-slide block text-[5.5rem] sm:text-[6rem] md:text-[6.5rem] lg:text-[7.5rem] tracking-[-0.01em]">
    & SLEEVING
  </span>
</h2>

    </div>


    <div class="w-full lg:w-[45%] flex items-center justify-center lg:justify-start lg:pl-10 mt-6 lg:mt-0">
<p class="animate-fade-right font-montserrat text-white text-[1.8rem] font-medium opacity-90 max-w-md text-center lg:text-left leading-snug">
        Broad-range packaging <br /> solutions ready for market
      </p>
    </div>

  </div>
</div>


<div class="swiper-slide">
  <div class="scroll-mt-60 certified-facility-section flex flex-col lg:flex-row w-full min-h-[60vh] py-10 px-4 items-center justify-center">
<div class="w-full lg:w-[55%] flex items-center justify-center lg:justify-end lg:pr-10">
  <h2 class="text-[#01ffff] font-[Antonio] leading-[1.1] text-center lg:text-left">
    <span class="animate-slide block text-[6rem] sm:text-[7rem] md:text-[8rem] lg:text-[9rem] tracking-[0.02em]">
      MADE
    </span>
    <span class="animate-slide block text-[3.9rem] sm:text-[4.3rem] md:text-[4.6rem] lg:text-[5rem] tracking-[0.010em]">
      IN THE USA
    </span>
  </h2>
</div>

    <div class="w-full lg:w-[45%] flex items-center justify-center lg:justify-start lg:pl-10 mt-6 lg:mt-6">
  <p class="animate-fade-right font-montserrat text-white text-[1.8rem] font-medium opacity-90 max-w-md text-center lg:text-left leading-snug">
        Operational integrity,<br />reliable labor force, and <br /> trusted supply chain
      </p>
    </div>

  </div>
</div>



    </div>
    <div class="swiper-pagination mt-4"></div>
  </div>

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js" defer></script>
  <script type="module" defer>
    window.addEventListener('DOMContentLoaded', () => {
     
      Swiper.use([Pagination, Navigation]);
      const swiperInstance = new Swiper('.mySwiper', {
        loop: true,
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
        },
        observer: true,
        observeParents: true,
      });
    });
  </script>
</section>
<!-- GSAP desde CDN -->
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js" defer></script>

<script defer>
  window.addEventListener('DOMContentLoaded', () => {
    const swiper = new Swiper('.mySwiper', {
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      on: {
        init: () => {
          animateCurrentSlide();
        },
        slideChangeTransitionStart: () => {
          hideAllAnimatedElements();
        },
        slideChangeTransitionEnd: () => {
          animateCurrentSlide();
        },
      }
    });

    function hideAllAnimatedElements() {
      const animatedEls = document.querySelectorAll('.animate-slide');
      animatedEls.forEach(el => {
        gsap.set(el, { opacity: 0, y: 50 });
      });
      const animatedElsX = document.querySelectorAll('.animate-slide-x');
      animatedElsX.forEach(el => {
        gsap.set(el, { opacity: 0, x: -50 });
      });
      const wowEls = document.querySelectorAll('.animate-wow');
      wowEls.forEach(el => {
        gsap.set(el, { opacity: 0, scale: 0.7, rotate: -15 });
      });
      const fadeRightEls = document.querySelectorAll('.animate-fade-right');
      fadeRightEls.forEach(el => {
        gsap.set(el, { opacity: 0, x: 40 });
      });
    }

    function animateCurrentSlide() {
      const activeSlide = document.querySelector('.swiper-slide-active');
      if (!activeSlide) return;
      const animEls = activeSlide.querySelectorAll('.animate-slide');
      const animElsX = activeSlide.querySelectorAll('.animate-slide-x');
      const wowEls = activeSlide.querySelectorAll('.animate-wow');
      const fadeRightEls = activeSlide.querySelectorAll('.animate-fade-right');

      gsap.to(animEls, {
        opacity: 1,
        y: 0,
        duration: 1,
        stagger: 0.2,
        ease: 'power3.out'
      });
      gsap.to(animElsX, {
        opacity: 1,
        x: 0,
        duration: 1,
        stagger: 0.2,
        ease: 'power3.out'
      });
      wowEls.forEach(el => {
        // Reinicia el estado antes de animar cada vez
        gsap.set(el, { opacity: 0, scale: 0.7, rotate: -15 });
        gsap.to(el, {
          opacity: 1,
          scale: 1,
          rotate: 0,
          duration: 2.1,
          ease: 'power2.out'
        });
      });
      fadeRightEls.forEach(el => {
        gsap.set(el, { opacity: 0, x: 40 });
        gsap.to(el, {
          opacity: 1,
          x: 0,
          duration: 1.3,
          ease: 'power2.out'
        });
      });
    }

    hideAllAnimatedElements();

    const carouselSection = document.querySelector('.mySwiper');

const observer = new IntersectionObserver(
  (entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        animateCurrentSlide(); // ✅ Se activa cada vez que la sección es visible
      } else {
        hideAllAnimatedElements(); // Opcional: para resetear si sales de la sección
      }
    });
  },
  { threshold: 0.5 }
);


observer.observe(carouselSection);

  });
</script>

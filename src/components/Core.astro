---
import '../styles/global.css';
---

<section
  id="core-capabilities"
  class="relative overflow-hidden pt-8 sm:pt-12 lg:pt-16 pb-8 sm:pb-12 lg:pb-16"
  style="background: url('/10_fondo.png') no-repeat center center; background-size: cover; min-height: 100vh; display: flex; flex-direction: column; justify-content: center;"
>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
   
    <div class="text-center mb-3 sm:mb-4 lg:mb-5">
      <h2
        class="core-title font-[Antonio] text-[#01ffff] font-light leading-none mb-0 text-[clamp(3.5rem,7vw,9.5rem)] tracking-[-0.01em]"
      >
        CORE
      </h2>
      <h3
        class="core-subtitle font-[Antonio] text-[#01ffff] font-light leading-none text-[clamp(1.1rem,3vw,3.2rem)] tracking-[0.01em] mt-[-1.2em]"
      >
        CAPABILITIES
      </h3>
      <style>
       
        @media (max-width: 400px) {
          .core-title { font-size: 6.5rem !important; margin-bottom: 0em !important; letter-spacing: 0.05em !important; }
          .core-subtitle { font-size: 3.1rem !important; margin-top: 0em !important; letter-spacing: -0.05em !important; }
        }
        
        @media (min-width: 401px) and (max-width: 900px) {
          .core-title { font-size: 6.5rem !important; margin-bottom: 0.6em !important; letter-spacing: 0.08em !important; }
          .core-subtitle { font-size: 3.8rem !important; margin-top: -1em !important; letter-spacing: -0.08em !important; }
        }
      
        @media (min-width: 901px) and (max-width: 1400px) {
          .core-title { font-size: 5.5rem !important; margin-bottom: 0.8em !important; letter-spacing: 0.02em !important; }
          .core-subtitle { font-size: 2.2rem !important; margin-top: -1.90em !important; letter-spacing: -0.009em !important; }
        }
        
        @media (min-width: 1401px) {
          .core-title { font-size: 9.5rem !important; margin-bottom: 0.7em !important; letter-spacing: -0.02em !important; }
          .core-subtitle { font-size: 3.2rem !important; margin-top: -1.90em !important; letter-spacing: 0.01em !important; }
        }
      </style>
    </div>

    
    <div class="text-center mb-6 sm:mb-8 lg:mb-10 max-w-4xl 2xl:max-w-6xl mx-auto">
      <p class="core-text font-montserrat font-light text-[20px] text-white leading-tight mb-3" style="letter-spacing: 0.02em;">
        We provide full-spectrum liquid manufacturing services that adapt <br> to your needs and scale with your growth
      </p>
      <p class="core-text-bold font-montserrat font-light text-[20px] text-white leading-tight" style="letter-spacing: 0.02em;">
        Our integrated capabilities reduce complexity and <br><span class="font-bold">accelerate your go-to-market timeline</span>
      </p>
    </div>



<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-0 sm:gap-16 md:gap-20 mb-2 sm:mb-3 md:mb-4">

  <div class="hexagon-item flex flex-col items-center group">
    <div class="hexagon-bg relative flex items-center justify-center group-hover:scale-90 transition-transform duration-300">
      <div class="hexagon-overlay pointer-events-none"></div>
      <div class="absolute w-full h-full flex flex-col items-center justify-center px-2 py-2 z-10">
        <div class="hex-title leading-none mb-1" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          TURNKEY
        </div>
        <div class="hex-title leading-none mb-2" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          MANUFACTURING
        </div>
        <div class="text-[10px] sm:text-xs text-black leading-tight text-center" style="font-family: 'Montserrat', sans-serif;">
          End-to-end service<br>
          From R&D to packaging
        </div>
      </div>
    </div>
  </div>
  <!-- Hexágono 2 -->
  <div class="hexagon-item flex flex-col items-center group">
    <div class="hexagon-bg relative flex items-center justify-center group-hover:scale-90 transition-transform duration-300">
      <div class="hexagon-overlay pointer-events-none"></div>
      <div class="absolute w-full h-full flex flex-col items-center justify-center px-2 py-2 z-10">
        <div class="hex-title leading-none mb-1" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          CUSTOM
        </div>
        <div class="hex-title leading-none mb-1" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          FORMULATION
        </div>
        <div class="hex-title leading-none mb-2" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          & TESTING
        </div>
        <div class="text-[10px] sm:text-xs text-black leading-tight text-center" style="font-family: 'Montserrat', sans-serif;">
          In-house chemists and lab<br>
          support for product<br>
          development
        </div>
      </div>
    </div>
  </div>
  <!-- Hexágono 3 -->
  <div class="hexagon-item flex flex-col items-center group">
    <div class="hexagon-bg relative flex items-center justify-center group-hover:scale-90 transition-transform duration-300">
      <div class="hexagon-overlay pointer-events-none"></div>
      <div class="absolute w-full h-full flex flex-col items-center justify-center px-2 py-2 z-10">
        <div class="hex-title leading-none mb-1" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          PRECISION
        </div>
        <div class="hex-title leading-none mb-1" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          BLENDING &
        </div>
        <div class="hex-title leading-none mb-2" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          FILLING
        </div>
        <div class="text-[10px] sm:text-xs text-black leading-tight text-center" style="font-family: 'Montserrat', sans-serif;">
          Flexible formats from 1mL<br>
          to 1 gallon with strict QC<br>
          standards
        </div>
      </div>
    </div>
  </div>
  <!-- Hexágono 4 -->
  <div class="hexagon-item flex flex-col items-center group">
    <div class="hexagon-bg relative flex items-center justify-center group-hover:scale-90 transition-transform duration-300">
      <div class="hexagon-overlay pointer-events-none"></div>
      <div class="absolute w-full h-full flex flex-col items-center justify-center px-2 py-2 z-10">
        <div class="hex-title leading-none mb-1" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          PACKAGING
        </div>
        <div class="hex-title leading-none mb-1" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          & BRANDING
        </div>
        <div class="hex-title leading-none mb-2" style="font-family: 'Antonio', sans-serif; color: #464b68;">
          SOLUTIONS
        </div>
        <div class="text-[10px] sm:text-xs text-black leading-tight text-center" style="font-family: 'Montserrat', sans-serif;">
          Compliant, shelf-ready,<br>
          and customized for your<br>
          brand
        </div>
      </div>
    </div>
  </div>
</div>


    
    <div class="text-center mt-10 sm:mt-12">
      <a href="#contact" class="inline-block hero-btn-link">
        <button class="bg-[#ffba00] hover:bg-[#daa300] text-black font-[Antonio] font-bold sm:text-sm md:text-lg lg:text-xl xl:text-2xl 2xl:text-4xl px-8 py-3 rounded-md shadow-lg transition-all duration-200 border-none outline-none hero-btn core-start-btn w-full sm:w-auto">
          START YOUR PROJECT TODAY
        </button>
      </a>
    </div>
  </div>
</section>

<style>


  .core-start-btn,
  #core-start-button {
    background: #eab308 !important;
    background-color: #eab308 !important;
    color: #000000 !important;
    border: none !important;
    outline: none !important;
    font-family: 'Antonio', sans-serif !important;
    font-weight: 700 !important;
    font-size: 17px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    padding: 8px 24px !important;
    border-radius: 8px !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    display: inline-block !important;
    min-height: 40px !important;
    min-width: 240px !important;
    position: relative !important;
    z-index: 1 !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
  }

  .core-start-btn:hover,
  #core-start-button:hover {
    background: #ca8a04 !important;
    background-color: #ca8a04 !important;
    color: #000000 !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25) !important;
  }

/* Eliminadas reglas que modifican el tamaño de los hexágonos en móviles. */
  .hexagon-bg {
    width: 18rem;
    height: 18rem;
    background-image: url('/src/assets/9_hexagono.png');
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    /* border-radius: 2.5rem; */
    position: relative;
    transition: background-image 0.3s;
    box-shadow: none;
    overflow: visible;
  }
  .hex-title {
    font-size: 1.7rem;
    font-weight: 400;
    transition: font-size 1.2s cubic-bezier(0.22, 1, 0.36, 1), color 1.2s cubic-bezier(0.22, 1, 0.36, 1);
    line-height: 1.1;
  }
  .group:hover .hex-title {
    font-size: 2.5rem;
    color: #01ffff;
  }
  .hexagon-bg {
    transition: background-image 1.2s cubic-bezier(0.22, 1, 0.36, 1), transform 1.2s cubic-bezier(0.22, 1, 0.36, 1);
  }
.group:hover .hexagon-bg {
  background-image: url('/src/assets/9_hexagonoGris.png');
  transform: scale(1.03); /* un poco menos de salto */
  transition: transform 0.12s ease-in, background-image 0.15s ease-in;
}
.hexagon-bg {
  transition: transform 0.12s ease-out, background-image 0.15s ease-out;
}



  .hexagon-overlay {
    display: none;
  }

  /* Eliminada la regla que reducía el tamaño a 11.5rem en móviles */
</style>


<script>
// Acceso seguro a coreAnimTl sin tipos avanzados
if (typeof window !== "undefined") {
  (window as any).coreAnimTl = (window as any).coreAnimTl || undefined;
}
  import gsap from 'gsap';
  import ScrollTrigger from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  if (typeof window !== "undefined") {
    function playCoreAnim() {
      if ((window as any).coreAnimTl) (window as any).coreAnimTl.kill();
      (window as any).coreAnimTl = gsap.timeline();
      // Solo animar si los elementos están visibles, pero nunca ocultarlos
      gsap.set(['.core-title', '.core-subtitle', '.core-text', '.core-text-bold', '.hero-btn', '.hexagon-item'], {opacity: 1, y: 0, scale: 1});
      (window as any).coreAnimTl.from('.core-title', {
        y: 60,
        scale: 0.95,
        opacity: 0.2,
        duration: 1.2,
        ease: 'power3.out',
      })
      .from('.core-subtitle', {
        y: 40,
        scale: 0.97,
        opacity: 0.2,
        duration: 1,
        ease: 'power3.out',
      }, '-=0.7')
      .from('.core-text', {
        y: 30,
        opacity: 0.2,
        duration: 1,
        ease: 'power3.out',
      }, '-=0.7')
      .from('.core-text-bold', {
        y: 30,
        opacity: 0.2,
        duration: 1,
        ease: 'power3.out',
      }, '-=0.8')
      .from('.hexagon-item', {
        y: 40,
        scale: 0.95,
        opacity: 0.2,
        duration: 1.1,
        stagger: 0.25,
        ease: 'power3.out',
      }, '-=0.7')
      .from('.hero-btn', {
        y: 25,
        opacity: 0.2,
        duration: 0.9,
        ease: 'power3.out',
      }, '-=0.6');
    }

    ScrollTrigger.create({
      trigger: '#core-capabilities',
      start: 'top 80%',
      end: 'bottom 20%',
      onEnter: playCoreAnim,
      onEnterBack: playCoreAnim,
      onLeaveBack: () => {
        if ((window as any).coreAnimTl) (window as any).coreAnimTl.kill();
      },
      onLeave: () => {
        if ((window as any).coreAnimTl) (window as any).coreAnimTl.kill();
      },
      once: false
    });
  }
</script>
